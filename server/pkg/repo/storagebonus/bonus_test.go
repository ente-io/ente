package storagebonus

import (
	"testing"
)

// Write test for adding entry in storage_surplus table
func TestAddStorageSurplus(t *testing.T) {
	//repo := NewRepository(db) // Test
	//err := repo.AddStorageBonus(context.Background(), 10, 1024, storagebonus.SignUp)
	//assert.NoError(t, err)
	//storageSurplus, err := repo.GetStorageBonuses(context.Background(), 10)
	//assert.NoError(t, err)
	//
	//assert.Equal(t, 1, len(storageSurplus), "length mismatch")
	//assert.Truef(t, cmp.Equal(storageSurplus[0], storagebonus.StorageBonus{
	//	UserID:       10,
	//	Storage:      1024,
	//	Type:         storagebonus.SignUp,
	//	ValidTill:    0,
	//	RevokeReason: nil,
	//	IsRevoked:    false,
	//}, cmpopts.IgnoreFields(storagebonus.StorageBonus{}, "CreatedAt", "UpdatedAt")), "match failed")

}
